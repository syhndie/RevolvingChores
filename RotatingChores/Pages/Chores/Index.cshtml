@page
@model RotatingChores.Pages.NewFolder.Chores.IndexModel

@{
    ViewData["Title"] = "My Chores";
}

<h1>@ViewData["Title"]</h1>

<p>
    <a asp-page="Create">create new chore</a>
</p>
<table class="table" id="choreindex">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Chores[0].Name)
            </th>
            @*<th>
                @Html.DisplayNameFor(model => model.Chores[0].Description)
            </th>*@
            @*<th>
                @Html.DisplayNameFor(model => model.Chores[0].DaysToRepeat)
            </th>*@
            <th>
                @Html.DisplayNameFor(model => model.Chores[0].DateLastCompleted)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Chores[0].Priority)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.Chores) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            @*<td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>*@
            @*<td>
                @Html.DisplayFor(modelItem => item.DaysToRepeat)
            </td>*@
            <td>
                @Html.DisplayFor(modelItem => item.DateLastCompleted)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Priority)
            </td>
            <td>
                <a asp-page="./Edit" asp-route-id="@item.ID">edit</a> 
            </td>
        </tr>
}
    </tbody>
</table>

@section Scripts {
    <script>
        $('#choreindex').DataTable({
            "order": [[1, "asc"], [2, "desc"]],
            "language": {
                search: "search:"
            },
            "paging": false,
            columns: [
                { data: "name" },
                //{ data: "description", "orderable": false},
                //{ data: "daystorepeat" },
                { data: "datelastcompleted", type: "date" },
                { data: "priority" },
                { data: "links", "orderable": false }
            ]
        });
    </script>
}